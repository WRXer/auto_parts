{% extends 'main/base.html' %}
{% load static %}
{% block content %}

<main class="container text-dark pt-3 pb-5 rounded-4" style="background-color: rgba(211, 211, 211, 0.8);">
    <div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center">
        <div class="card p-4 shadow-lg mb-5" style="background-color: rgba(255, 255, 255, 0.9);">
            <h2 class="card-title text-center mb-4">Найти запчасть по автомобилю</h2>

            <form method="get" id="filter-form" action="{% url 'spare_parts:all_parts' %}" class="mb-5">
                <div class="row g-3 align-items-end">
                    <div class="col-md-3">
                        <label for="id_make" class="form-label fw-bold">Марка:</label>
                        <select data-name="make" id="id_make" class="form-select"
                                data-load-models-url="{% url 'spare_parts:ajax_load_car_models' %}"
                                data-load-generations-url="{% url 'spare_parts:ajax_load_car_generations' %}"
                                data-car-model-list-url="{% url 'spare_parts:models_list' make_pk=0 %}"
                                data-car-generation-list-url="{% url 'spare_parts:generations_list' make_pk=0 model_pk=0 %}"
                                data-parts-by-generation-url="{% url 'spare_parts:parts_by_generation' make_pk=0 model_pk=0 generation_pk=0 %}"
                                data-default-action="{% url 'spare_parts:all_parts' %}">
                            <option value="">-- Выберите марку --</option>
                            {% for make in car_makes %}
                                <option value="{{ make.pk }}">{{ make.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="id_model" class="form-label fw-bold">Модель:</label>
                        <select data-name="model" id="id_model" class="form-select" disabled>
                            <option value="">-- Сначала выберите марку --</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="id_generation" class="form-label fw-bold">Модификация:</label>
                        <select data-name="generation" id="id_generation" class="form-select" disabled>
                            <option value="">-- Сначала выберите модель --</option>
                        </select>
                    </div>
                    <div class="col-md-3 align-self-end">
                        <button type="submit" id="submit-filter-btn" class="btn btn-outline-success w-100">Перейти</button>
                    </div>
                </div>
            </form>

            <form class="d-flex" role="search" action="{% url 'spare_parts:search_by_number' %}" method="get">
              <div class="input-group me-2 flex-grow-1">
                <span class="input-group-text">Поиск по номеру запчасти:</span>
                <input class="form-control" type="search" placeholder="Пример: 25739AA100" aria-label="Search" name="part_number"/>
              </div>
                <button class="btn btn-outline-success" type="submit">Поиск</button>
            </form>
        </div>
        <div class="product-device shadow-sm d-none d-md-block"></div>
    </div>

    <div class="mx-auto">
        <div class="row my-md-3 justify-content-center">
            <div class="col-md-6 mb-3">
                <div class="pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden shadow-lg rounded-5 h-100 d-flex flex-column justify-content-between text-light" style="background-color: rgba(0, 0, 0, 0.75); min-height: 450px;">
                    <div class="my-3 py-3">
                        <h2 class="display-5">Двигатели</h2>
                        <p class="lead">Комплектующие, навесное оборудование</p>
                    </div>
                    <div class="bg-body-tertiary shadow-sm mx-auto mt-auto" style="width: 80%; height: 300px; border-radius: 21px 21px 0 0;">
                        [Изображение двигателя]
                    </div>
                </div>
            </div>
            <div class="col-md-6 mb-3">
                <div class="pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden shadow-lg rounded-5 h-100 d-flex flex-column justify-content-between text-dark" style="background-color: rgba(255, 255, 255, 0.75); min-height: 450px;">
                    <div class="my-3 p-3">
                        <h2 class="display-5">Кузов</h2>
                        <p class="lead">Бамперы, крылья, двери</p>
                    </div>
                    <div class="bg-dark shadow-sm mx-auto mt-auto" style="width: 100%; height: 300px; border-radius: 21px 21px 0 0;">
                        [Изображение кузовных деталей]
                    </div>
                </div>
            </div>
        </div>

        <div class="row my-md-3 justify-content-center">
            <div class="col-md-6 mb-3">
                <div class="pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden shadow-lg rounded-5 h-100 d-flex flex-column justify-content-between text-dark" style="background-color: rgba(255, 255, 255, 0.75); min-height: 450px;">
                    <div class="my-3 p-3">
                        <h2 class="display-5">Тормозная система</h2>
                        <p class="lead">Диски, суппорты, колодки</p>
                    </div>
                    <div class="bg-dark shadow-sm mx-auto mt-auto" style="width: 80%; height: 300px; border-radius: 21px 21px 0 0;">
                        [Изображение тормозных дисков]
                    </div>
                </div>
            </div>
            <div class="col-md-6 mb-3">
                <div class="pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden shadow-lg rounded-5 h-100 d-flex flex-column justify-content-between text-dark" style="background-color: rgba(108, 117, 125, 0.75); min-height: 450px;">
                    <div class="my-3 py-3">
                        <h2 class="display-5">Шины и диски</h2>
                        <p class="lead">Летние и зимние комплекты</p>
                    </div>
                    <div class="bg-body-tertiary shadow-sm mx-auto mt-auto" style="width: 80%; height: 300px; border-radius: 21px 21px 0 0;">
                        [Изображение шин]
                    </div>
                </div>
            </div>
        </div>
    </div>
    </main>

<script src="{% static 'deps/js/filter_logic.js' %}"></script>

{% endblock content %}