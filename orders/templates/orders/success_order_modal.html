{% load static %}

<div class="modal fade" id="orderSuccessModal" tabindex="-1" aria-labelledby="orderSuccessModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4 border-0 shadow-lg">
            <div class="modal-body p-5 text-center">
                <div class="mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="currentColor" class="bi bi-check-circle-fill text-success" viewBox="0 0 16 16">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                    </svg>
                </div>

                <h1 class="h2 fw-bold text-dark mb-3">
                    Заказ успешно оформлен!
                </h1>

                <p class="fs-5 text-muted mb-4">
                    Ваш заказ №<span class="fw-bold text-dark">{{ order.id }}</span> принят в обработку.
                </p>

                <div class="bg-light rounded-3 p-3 text-start mb-4">
                    <h5 class="fw-bold text-dark border-bottom pb-2 mb-2">Детали заказа:</h5>
                    <p class="mb-1 text-secondary"><strong>Имя:</strong> {{ order.first_name }} {{ order.last_name }}</p>
                    <p class="mb-1 text-secondary"><strong>Email:</strong> {{ order.email }}</p>
                    {% if order.requires_delivery %}
                        <p class="mb-1 text-secondary"><strong>Адрес:</strong> {{ order.delivery_address }}</p>
                    {% else %}
                        <p class="mb-1 text-secondary"><strong>Доставка:</strong> Не требуется (самовывоз)</p>
                    {% endif %}
                    <p class="mb-0 text-secondary"><strong>Сумма:</strong> <span class="fw-bold text-dark">{{ order.get_total_price|floatformat:0 }} ₽</span></p>
                </div>

                <div class="d-grid gap-2">
                    <a href="{% url 'index' %}" class="btn btn-success btn-lg">
                        Вернуться на главную
                    </a>
                    <button type="button" class="btn btn-outline-secondary" onclick="window.location.reload()">
                        Остаться в корзине
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>